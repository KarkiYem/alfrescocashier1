(window.webpackJsonp=window.webpackJsonp||[]).push([[52],{650:function(t,e,n){},736:function(t,e,n){"use strict";n(650)},805:function(t,e,n){"use strict";n.r(e);n(10);var r=n(11),o=(n(43),n(173),n(69)),d=n(734),c=n.n(d),l=n(735),v=n.n(l),_={layout:"DashboardLayout",data:function(){return{s:!0,data:{},name:"",formatted:"",cruise:"",reportingtime:"",boardingtime:"",veg:0,nonveg:0,other:0}},mounted:function(){this.getData()},methods:{open:function(){},getData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.collection("Booking").getFirstListItem('id = "'.concat(t.$store.state.test,'"'));case 2:return t.data=e.sent,t.name=t.data.adultdetails[0].name,e.next=6,o.a.collection("webcruise").getFirstListItem('name="'.concat(t.data.cruise,'"'));case 6:n=e.sent,t.reportingtime=n.reportingtime,t.veg=t.data.veg,t.nonveg=t.data.nonveg,t.other=t.data.other,t.boardingtime=n.timing.split(/[to\/,-]/)[0],r=t.data.date,d=r.split("/"),t.formatted=t.formatDate(d[2],d[1],d[0]),t.genQR(t.data.id);case 16:case"end":return e.stop()}}),e)})))()},genQR:function(t){var e=document.getElementById("qrcode");e&&e.parentNode.removeChild(e);var n=document.createElement("div");n.id="qrcode",n.style.width="140px",n.style.height="140px",n.style.display="flex",n.style.justifyContent="center",n.style.alignItems="center",n.style.border="3px solid white",n.style.background="white",document.querySelector(".qrimg").appendChild(n);new v.a(n,{logoWidth:70,text:t,logoHeight:70,logoBackgroundColor:"#26144e",logoBackgroundTransparent:!1,width:130,height:130})},donloads:function(){var t=document.getElementById("op");c()(t).then((function(canvas){var t=canvas.toDataURL(),link=document.createElement("a");link.download="ticket.png",link.href=t,link.click()}))},formatDate:function(t,e,n){var r=new Date(t,e-1,n),o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][r.getDay()],d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][r.getMonth()];return this.formatted="".concat(o,", ").concat(r.getDate()," ").concat(d,", ").concat(r.getFullYear()),this.formatted}}},m=(n(736),n(7)),component=Object(m.a)(_,(function(){var t=this,e=t._self._c;return e("div",[e("div",[e("div",{staticClass:"main"},[e("div",{staticClass:"ticket",style:{backgroundColor:"Guest"===t.data.payment_id?"#003200":""},attrs:{id:"op"}},[e("div",{staticClass:"dot"}),t._v(" "),e("div",{staticClass:"dot1"}),t._v(" "),e("div",{staticClass:"dot3"}),t._v(" "),e("div",{staticClass:"ticket1"},[e("div",{staticClass:"ticket2"},[e("p",{staticClass:"htext"},[t._v("Alfresco Grand")]),t._v(" "),e("div",{staticClass:"det"},[e("p",{staticClass:"ptextkl"},[e("b",[t._v("\n                  "+t._s(t.data.cruise)+t._s("Guest"!=t.data.payment_id?" - ".concat(t.data.ticketid):""))])])]),t._v(" "),e("div",{staticClass:"det"},[e("p",{staticClass:"ptext1"},[e("b",[t._v("Name")]),e("br"),t._v(t._s(t.name))]),t._v(" "),e("p",{staticClass:"ptext1"},[e("b",[t._v("Date")]),e("br"),t._v(t._s(t.formatted))])]),t._v(" "),e("div",{staticClass:"det"},[e("p",{staticClass:"ptext"},[e("b",[t._v("Adult"+t._s(t.data.adult<=1?"":"s"))]),e("br"),t._v(t._s(t.data.adult)+"\n              ")]),t._v(" "),e("p",{staticClass:"ptext"},[e("b",[t._v("Kid"+t._s(t.data.kid<=1?"":"s"))]),e("br"),t._v(t._s(t.data.kid)+"\n              ")]),t._v(" "),e("p",{staticClass:"ptext"},[e("b",[t._v("Infant"+t._s(t.data.infant<=1?"":"s"))]),t._v(" "),e("br"),t._v(t._s(t.data.infant)+"\n              ")])]),t._v(" "),e("div",{staticClass:"det"},[e("p",{staticClass:"ptext"},[e("b",[t._v("Deck")]),e("br"),t._v(t._s("No Deck"==t.data.deck?"Dinner Deck":t.data.deck)+"\n              ")]),t._v(" "),e("p",{staticClass:"ptext"},[e("b",[t._v("Reporting")]),e("br"),t._v(t._s(t.reportingtime))]),t._v(" "),e("p",{staticClass:"ptext"},[e("b",[t._v("Departure")]),e("br"),t._v(t._s(t.boardingtime))])]),t._v(" "),"Dinner Cruise"==t.data.cruise?e("div",{staticStyle:{"border-top":"2px dashed white","margin-top":"1rem","margin-bottom":"1rem"}}):t._e(),t._v(" "),"Dinner Cruise"==t.data.cruise?e("div",{staticClass:"det"},[e("p",{staticClass:"ptext"},[e("b",[t._v("Veg")]),e("br"),t._v("\n                 "+t._s(t.veg)+"\n              ")]),t._v(" "),e("p",{staticClass:"ptext"},[e("b",[t._v("Non-Veg")]),e("br"),t._v("     \n                "+t._s(t.nonveg)+"\n              ")]),t._v(" "),e("p",{staticClass:"ptext"},[e("b",[t._v("Jain")]),e("br"),t._v("    "+t._s(t.other)+"\n              ")])]):t._e()])]),t._v(" "),e("div",{staticClass:"qr"},[e("div",{staticClass:"qrimg",on:{click:function(e){return t.open()}}},[e("div",{attrs:{id:"qrcode"}})])])]),t._v(" "),e("div",{staticClass:"abb"},[e("button",{staticClass:"btn1",style:{backgroundColor:"Guest"===t.data.payment_id?"#003200":""},on:{click:function(e){return t.donloads()}}},[t._v("\n          Download Ticket\n        ")])]),t._v(" "),e("div",{staticClass:"hidden",attrs:{hidden:t.s}},[e("div",{staticClass:"pop"},[e("h1",{staticClass:"cross",on:{click:function(e){return t.open()}}},[t._v("×")]),t._v(" "),t._m(0)])])])])])}),[function(){var t=this._self._c;return t("div",{staticClass:"qr"},[t("div",{staticClass:"qrimg"},[t("div",{attrs:{id:"qrcode"}})])])}],!1,null,"aaf1db1c",null);e.default=component.exports}}]);